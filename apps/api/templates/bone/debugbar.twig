{# Set Template Cache Query Variables (we may have fetched from cache from a template) #}
{% set cache_get_queries = cache.get_get_queries() %}
{% set cache_set_queries = cache.get_set_queries() %}
{% set local_cache_get_queries = local_cache.get_get_queries() %}
{% set local_cache_set_queries = local_cache.get_set_queries() %}

{# Debugbar Container #}
<div class="debugdiv" id="debugbar">

	{# Profiling Timings - Init, Tree Default, View/Controller, Template, Debug, Total + Memory Usage #}
	<div id="loadingtimes">
		Generated by {{ server_name }} -
		Init: <span>{{ init_time() }} ms</span> -
		Default tree: <span>{{ default_tree_time }} ms</span> -
		View: <span id="view_time">n/a</span> -
		Template: <span id="template_time">n/a</span> -
		Debug: <span id="debug_time">n/a</span> -
		Total: <span id="total_time">{{ process_time() }}</span> -
		Memory: <span>{{ memory_used }}/{{ memory_limit }}</span>
	</div>

	{#
		Toggle Display for:
		SQL & Cache Queries and Timings + Request Params, Session, Cookie and Template Context Data Arrays
	#}
	<div>
		<a href="#" id="showqueries">Queries ({{ sql_queries|count }})</a> -
		<a href="#" id="showcache">Cache ({{ cache_get_queries|count }})</a> -
        <a href="#" id="showlocalcache">Local Cache ({{ local_cache_get_queries|count }})</a> -
		<a href="#" id="showgetdata">Get data ({{ getdata|count }})</a> -
		<a href="#" id="showpostdata">Post data ({{ postdata|count }})</a> -
		{% if has_user and not user is AnonymousUser %}
		<a href="#" id="showsession">Session data ({{ user.session|count }})</a>
		{% endif %}
		<a href="#" id="showcookiedata">Cookies ({{ cookies|count }})</a>
        <a href="#" id="showcontext">Context ({{ _context|count }})</a>
	</div>


	<div id="debuginfo">

		{# SQL Queries List and Timings #}
		<div id="querylist">
			<h4>SQL Queries</h4>
			<hr />
			{% include "bone/debug/table-sql-queries.twig" %}
		</div>

		{# Cache Queries List and Timings #}
		<div id="cachelist">
			<h4>Cache Queries</h4>
			<hr />
			{% include "bone/debug/table-cache-queries.twig" %}
		</div>

        {# Cache Queries List and Timings #}
        <div id="localcachelist">
            <h4>Local Cache Queries</h4>
            <hr />
            {% include "bone/debug/table-local-cache-queries.twig" %}
        </div>


        {# Request GET Params #}
		{% if count(getdata) > 0 %}
			<div id="getdata">
				<hr />
				<h4>GET Data</h4>
				{% include "bone/debug/table-get-data.twig" %}
			</div>
		{% endif %}

		{# Request POST Params #}
		{% if count(postdata) > 0 %}
			<div id="postdata">
				<hr />
				<h4>POST Data</h4>
				{% include "bone/debug/table-post-data.twig" %}
			</div>
		{% endif %}

		{# Request Session Cache Data #}
		{% if has_user and not user is AnonymousUser %}
			<div id="sessiondata">
				<hr />
				<h4>Session Data</h4>
				{% include "bone/debug/table-session-data.twig" %}
			</div>
		{% endif %}

		{# Cookies Data #}
		<div id="cookiedata">
			<hr />
			<h4>Cookies</h4>
			{% include "bone/debug/table-cookies-data.twig" %}
		</div>

		{# Template Context Data #}
        <div id="context">
            <hr />
            <h4>Context</h4>
			{% include "bone/debug/table-template-context-data.twig" %}
        </div>

		<div style="clear: both;"></div>
	</div>
</div>

